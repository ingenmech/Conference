CREATE SCHEMA IF NOT EXISTS `CONFERENCE` DEFAULT CHARACTER SET utf8 ;
USE `CONFERENCE` ;


CREATE TABLE IF NOT EXISTS `Conference`.`CONFERENCE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(150) NOT NULL,
  `DATE` DATETIME NOT NULL,
  PRIMARY KEY (`ID`)
);


CREATE TABLE IF NOT EXISTS `Conference`.`SECTION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CONFERENCE_ID` INT NOT NULL,
  `NAME` VARCHAR(150) NOT NULL,
  `STATUS` ENUM('ACTUAL', 'DEPRECATED') NOT NULL DEFAULT 'ACTUAL',
  PRIMARY KEY (`ID`)
);


CREATE TABLE IF NOT EXISTS `Conference`.`USER` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ROLE` ENUM('USER', 'ADMIN') NOT NULL DEFAULT 'USER',
  `LOGIN` VARCHAR(45) NOT NULL,
  `PASSWORD` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID`)
);


CREATE TABLE IF NOT EXISTS `Conference`.`REQUEST` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `USER_ID` INT NOT NULL,
  `SECTION_ID` INT NOT NULL,
  `TOPIC` VARCHAR(150) NOT NULL,
  `STATUS` ENUM('CONSIDERING', 'REJECTED', 'ACCEPTED', 'DEPRECATED') NOT NULL DEFAULT 'CONSIDERING',
  PRIMARY KEY (`ID`)
);


CREATE TABLE IF NOT EXISTS `Conference`.`QUESTION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `USER_ID` INT NOT NULL,
  `CONFERENCE_ID` INT NOT NULL,
  `CONTENT` VARCHAR(150) NOT NULL,
  PRIMARY KEY (`ID`)
);


CREATE TABLE IF NOT EXISTS `Conference`.`MESSAGE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `QUESTION_ID` INT NOT NULL,
  `USER_ID` INT NOT NULL,
  `CONTENT` VARCHAR(300) NOT NULL,
  PRIMARY KEY (`ID`)
);